[Database]
Name=redBus

[Locations]
Table=Locations
Columns=locationId INT IDENTITY(1,1) PRIMARY KEY, locationName NVARCHAR(100) NOT NULL, locationSub NVARCHAR(100) NOT NULL, locationCode NVARCHAR(20) NOT NULL, locationType NVARCHAR(50) NOT NULL

[Users]
Table=Users
Columns=userId INT IDENTITY(1,1) PRIMARY KEY, userName NVARCHAR(50) NOT NULL, emailId NVARCHAR(100) NOT NULL UNIQUE, mobileNo NVARCHAR(10) NOT NULL, fullName NVARCHAR(100) NOT NULL, gender NVARCHAR(10) NOT NULL, Role VARCHAR(20) DEFAULT 'User', passwordHash NVARCHAR(255) NOT NULL

[Vendors]
Table=Vendors
Columns=vendorId INT IDENTITY(1,1) PRIMARY KEY, vendorName NVARCHAR(100) NOT NULL, contactNo NVARCHAR(15) NOT NULL, emailId NVARCHAR(100) NOT NULL UNIQUE

[Buses]
Table=Buses
Columns=busId INT IDENTITY(1,1) PRIMARY KEY, busName NVARCHAR(100) NOT NULL, busVehicleNo NVARCHAR(20) NOT NULL UNIQUE, totalSeats INT NOT NULL, vendorId INT NOT NULL, Rating INT NULL, RattingCount INT NULL

[BusSchedules]
Table=BusSchedules
Columns=scheduleId INT IDENTITY(1,1) PRIMARY KEY, busId INT NOT NULL, vendorId INT NOT NULL, vendorName NVARCHAR(100) NOT NULL, busName NVARCHAR(100) NOT NULL, busVehicleNo NVARCHAR(20) NOT NULL, totalSeats INT NOT NULL, fromLocationId INT NOT NULL, fromLocation NVARCHAR(100) NOT NULL, toLocationId INT NOT NULL, toLocation NVARCHAR(100) NOT NULL, departureTime DATETIME NOT NULL, arrivalTime DATETIME NOT NULL, availableSeats INT NOT NULL, pricePerSeat INT NOT NULL, scheduleDate DATE NOT NULL, ScheduleStatus VARCHAR(50) NULL

[BusBooking]
Table=BusBooking
Columns=bookingId INT IDENTITY(1,1) PRIMARY KEY, userId INT NOT NULL, bookingDate DATETIME DEFAULT GETDATE(), scheduleId INT NOT NULL, totalPrice INT NOT NULL, paymentStatus NVARCHAR(20) DEFAULT 'pending'

[BusBookingPassengers]
Table=BusBookingPassengers
Columns=passengerId INT IDENTITY(1,1) PRIMARY KEY, bookingId INT NOT NULL, passengerName NVARCHAR(100) NOT NULL, MobileNo NVARCHAR(10) NOT NULL, age INT NOT NULL, gender NVARCHAR(10) NOT NULL, seatNo NVARCHAR(10) NOT NULL, price INT NOT NULL, BookingStatus VARCHAR(20) NOT NULL

[Relationships]
BusSchedules_FK_Buses=busId -> Buses(busId)
BusSchedules_FK_Locations_from=fromLocationId -> Locations(locationId)
BusSchedules_FK_Locations_to=toLocationId -> Locations(locationId)
BusBooking_FK_Users=userId -> Users(userId)
BusBooking_FK_BusSchedules=scheduleId -> BusSchedules(scheduleId)
BusBookingPassengers_FK_BusBooking=bookingId -> BusBooking(bookingId)
